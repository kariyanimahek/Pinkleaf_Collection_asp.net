@{
    ViewData["Title"] = "Edit Profile";
}

<link rel="stylesheet" href="~/css/editprofile.css" />

<section class="edit-profile-section">

    <h2>Edit Profile</h2>

    <div class="edit-card">

        <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="name"
                   value="@Context.Session.GetString("UserName")" />
        </div>

        <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="email"
                   value="@Context.Session.GetString("UserEmail")" />
        </div>

        <div class="form-group">
            <label>Phone Number</label>
            <input type="text" id="phone"
                   value="@Context.Session.GetString("UserPhone")" />
        </div>

        <div class="form-group">
            <label>Address</label>
            <textarea id="address" rows="3">@Context.Session.GetString("UserAddress")</textarea>
        </div>

        <button class="save-btn" onclick="saveProfile()">
            Save Changes
        </button>

    </div>

</section>


<script>

function saveProfile() {

    let userData = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        address: document.getElementById("address").value
    };

    /* Save in localStorage */
    localStorage.setItem("userProfile", JSON.stringify(userData));

    alert("Profile Updated Successfully!");

    /* Redirect back to My Account */
    window.location.href = "/UserHome/MyAccount";
}

</script>
